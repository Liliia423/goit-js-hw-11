{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const API_KEY = '45378122-3aa1f0accb7d59cfaae2c348a';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n// Функція для виконання запиту\nexport function requestSending(query) {\n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      return response.json(); // Перетворюємо відповідь у JSON\n    });\n}\n\n/*import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.search-image-form');\nconst submitBtn = document.querySelector('.submit-button');\nconst searchField = document.querySelector('.search-field');\n\n\nsearchForm.addEventListener('keydown', event => {\n  if (event.key === 'Enter') {\n    event.preventDefault(); \n  }\n});\n\n\nsubmitBtn.addEventListener('click', () => {\n  event.preventDefault();\n\n  const query = searchField.value.trim(); \n  if (!query) {\n    return;\n  }\n\n  searchField.value = '';\n\n  fetch(\n    `https://pixabay.com/api/?key=45378122-3aa1f0accb7d59cfaae2c348a&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json(); \n    })\n\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message: `Sorry, there are no images matching your search query. Please, try again!`,\n          position: 'topRight',\n          class: 'error-toast',\n          timeout: 4000,\n          closeOnClick: true,\n        });\n        return;\n      }\n      console.log(data.hits);\n    })\n\n    .catch(error => {    \n    });\n});*/\n\n/*====зразок коду виведення помилки з повідомленням iziToast.error====\n.catch(error => {\n      iziToast.error({\n        message: `Sorry, there are no images matching your search query. Please, try again!`,\n        position: 'topRight',\n        class: 'error-toast',\n        timeout: 400000,\n        closeOnClick: true,\n      });\n    });*/\n\n/*====зразок коду запиту через колбек без назви функції====\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst submitBtn = document.querySelector('.submit-button');\nconst searchField = document.querySelector('.search-field');\nconst searchForm = document.querySelector('.search-image-form');\n\nsubmitBtn.addEventListener('click', () => {\n  event.preventDefault();\n\n  const query = searchField.value.trim();\n  if (!query) {\n    iziToast.error({\n      message: `Sorry, there are no images matching your search query. Please, try again!`,\n      position: 'topRight',\n      class: 'error-toast',\n      timeout: 400000,\n      closeOnClick: true,\n    });\n    return;\n  }\n  searchField.value = '';\n  fetch(\n    `https://pixabay.com/api/?key=45378122-3aa1f0accb7d59cfaae2c348a&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n\n    .then(data => {\n      console.log(data.hits);\n    })\n\n    .catch(error => {\n      iziToast.error({\n        message: `Sorry, there are no images matching your search query. Please, try again!`,\n        position: 'topRight',\n        class: 'error-toast',\n        timeout: 400000,\n        closeOnClick: true,\n      });\n    });\n});\n*/\n\n/*====зразок коду перевірки чи порожній масив====\n.then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message: `Sorry, there are no images matching your search query. Please, try again!`,\n          position: 'topRight',\n          class: 'error-toast',\n          timeout: 400000,\n          closeOnClick: true,\n        });\n        return;\n      }\n      console.log(data.hits);\n    }*/\n\n/*====зразок коду перевірки чи порожнє поле====\n  const query = searchField.value.trim();\n  if (!query) {\n    iziToast.error({\n      message: `Sorry, there are no images matching your search query. Please, try again!`,\n      position: 'topRight',\n      class: 'error-toast',\n      timeout: 400000,\n      closeOnClick: true,\n    });\n    return;\n  }*/\n\n/*====заборона відправки форми натисканням клавіші Enter====\nsearchForm.addEventListener('keydown', event => {\n  if (event.key === 'Enter') {\n    event.preventDefault();\n    iziToast.warning({\n      message: 'Don`t use key! Use Search button!',\n    });\n  }\n});*/\n","/*import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';*/\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { requestSending } from './js/pixabay-api';\n\nconst searchForm = document.querySelector('.search-image-form');\nconst searchField = document.querySelector('.search-field');\n\nsearchForm.addEventListener('keydown', event => {\n  if (event.key === 'Enter') {\n    event.preventDefault(); \n  }\n});\n\nsearchForm.addEventListener('submit', async (event) => {\n  event.preventDefault();\n  const query = searchField.value.trim();\n\n  if (!query) {\n    /*console.log('Please enter a search query.');*/\n    return;\n  }\n\n  try {\n    const data = await requestSending(query); // Викликаємо функцію запиту\n    if (data.hits.length === 0) {\n      iziToast.error({\n        message: `Sorry, there are no images matching your search query. Please, try again!`,\n        position: 'topRight',\n        class: 'error-toast',\n        timeout: 4000,\n        closeOnClick: true,\n      });\n    } else {\n      console.log(data.hits); // Виводимо результати в консоль\n    }\n  } catch (error) {\n    /*console.error('Error during request:', error);*/\n  }\n\n  searchField.value = ''; // Очищуємо поле після запиту\n});\n\n\n\n\n/*const images = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820__480.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/rchids-4202820_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\nconst gallery = document.querySelector('.gallery');\nconst fragment = document.createDocumentFragment();\n\nimages.forEach(({ preview, original, description }) => {\n  const galleryItem = document.createElement('li');\n  galleryItem.classList.add('gallery-item');\n\n  const galleryLink = document.createElement('a');\n  galleryLink.classList.add('gallery-link');\n  galleryLink.href = original;\n\n  const galleryImage = document.createElement('img');\n  galleryImage.classList.add('gallery-image');\n  galleryImage.src = preview;\n  galleryImage.setAttribute('data-source', original);\n  galleryImage.alt = description;\n\n  galleryLink.appendChild(galleryImage);\n  galleryItem.appendChild(galleryLink);\n  fragment.appendChild(galleryItem);\n});\n\ngallery.appendChild(fragment);\n\n// ========== Modal window using Event Delegation ==========\ngallery.addEventListener('click', event => {\n  event.preventDefault();\n\n  if (event.target.nodeName !== 'IMG') return;\n\n  const largeImageSrc = event.target.getAttribute('data-source');\n  console.log(largeImageSrc);\n  const instance = basicLightbox.create(\n    `\n      <img \n        src=\"${largeImageSrc}\" \n        class=\"modal-image\"\n        margin: auto; object-fit: cover;\">\n    `\n  );\n\n  instance.show();\n});*/\n"],"names":["API_KEY","BASE_URL","requestSending","query","response","searchForm","searchField","event","data","iziToast"],"mappings":"svBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAGV,SAASC,EAAeC,EAAO,CACpC,OAAO,MAAM,GAAGF,CAAQ,QAAQD,CAAO,MAAMG,CAAK,0DAA0D,EACzG,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,MACtB,CAAK,CACL,CCJA,MAAMC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAc,SAAS,cAAc,eAAe,EAE1DD,EAAW,iBAAiB,UAAWE,GAAS,CAC1CA,EAAM,MAAQ,SAChBA,EAAM,eAAc,CAExB,CAAC,EAEDF,EAAW,iBAAiB,SAAU,MAAOE,GAAU,CACrDA,EAAM,eAAc,EACpB,MAAMJ,EAAQG,EAAY,MAAM,KAAI,EAEpC,GAAKH,EAKL,IAAI,CACF,MAAMK,EAAO,MAAMN,EAAeC,CAAK,EACnCK,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,QAAS,4EACT,SAAU,WACV,MAAO,cACP,QAAS,IACT,aAAc,EACtB,CAAO,EAED,QAAQ,IAAID,EAAK,IAAI,CAExB,MAAe,CAEf,CAEDF,EAAY,MAAQ,GACtB,CAAC"}